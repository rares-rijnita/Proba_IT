import { useEffect, useState } from 'react'
import React from 'react';
import { Link } from 'react-router-dom';
import './../styles/AllStyles.css'
import '../styles/ProfileStyle.css'
import Footer from '../components/Footer';

const Profile = ({menuOpen,isMobile,UID }) => {
  const [error, setError] = useState('');
  const [informatiiProfil, updateInformatiiProfil] = useState([])

  useEffect (() => {
    const handleSearch = async () => {
        setError('');
        try {
          if (!response.ok) {
            throw new Error('Utilizatorul nu a fost gÄƒsit.');
          }
          const data = await response.json();
          updateInformatiiProfil(data)
        } catch (err) {
          setError(err.message);
        }
      };
      handleSearch()
  },[UID])
  const handleInputChange = (e) => {
    const { name, value } = e.target;
    updateInformatiiProfil((prev) => ({
      ...prev,
      [name]: value,
    }));
  };
    return (
        <div className={`${menuOpen&&'blur'}`}>
        <div className='main'>
            <div className={`profil flex ${isMobile&&'mobil'}`}>
                <div className={`numeBucatar ${isMobile&&'mobil'}`}>
                    <svg
        preserveAspectRatio="xMidYMid meet" className={`svgbucatar ${isMobile&&'mobil'}`}
        viewBox="0 0 108 203" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_161_101)">
                            <path d="M81.8948 120.009H76.3774C80.9529 114.677 83.7473 107.721 83.7473 100.093V82.3684C86.5104 82.1383 88.6978 79.8331 88.6978 77.0002C88.6978 74.4649 86.9434 72.3447 84.5954 71.7628V57.043C96.0855 55.64 105.027 45.6524 105.027 33.5582C105.027 20.5075 94.6169 9.88836 81.8189 9.88836C80.0065 9.88836 78.2522 10.0959 76.5872 10.5064C70.9001 3.81189 62.749 0 54.0355 0C45.3219 0 37.3181 3.71716 31.6355 10.2402C30.1847 10.0011 28.9036 9.88836 27.6671 9.88836C14.869 9.88836 4.45919 20.5075 4.45919 33.5582C4.45919 45.1246 12.6416 54.7604 23.4085 56.8084V71.7582C21.0739 72.3357 19.3821 74.4198 19.3821 77.0002C19.3821 79.9053 21.5292 82.1834 24.3325 82.3774V100.097C24.3325 107.721 27.127 114.681 31.7025 120.014H26.1895C11.7532 120.014 0.00866699 131.991 0.00866699 146.715V201.2C0.00866699 202.197 0.807708 203.005 1.79423 203.005C2.78076 203.005 3.5798 202.197 3.5798 201.2V146.715C3.5798 133.98 13.7218 123.622 26.1895 123.622H35.3495C40.4607 127.858 46.9646 130.407 54.0444 130.407C61.1242 130.407 67.6325 127.858 72.7437 123.622H81.9037C94.3312 123.622 104.438 133.985 104.438 146.715V201.2C104.438 202.197 105.237 203.005 106.223 203.005C107.21 203.005 108.009 202.197 108.009 201.2V146.715C108.009 131.991 96.2953 120.014 81.9037 120.014L81.8948 120.009ZM8.02586 33.5582C8.02586 22.4969 16.8376 13.4972 27.6626 13.4972C28.9527 13.4972 30.3276 13.6461 31.9926 13.9709C32.6354 14.0882 33.2916 13.8536 33.7068 13.3439C38.7331 7.15913 46.1432 3.6134 54.0355 3.6134C61.9277 3.6134 69.5252 7.28544 74.5561 13.6822C75.0159 14.2641 75.7881 14.4987 76.4845 14.2822C78.1451 13.7634 79.9396 13.4972 81.8278 13.4972C92.6528 13.4972 101.465 22.4969 101.465 33.5582C101.465 44.6194 92.6528 53.6191 81.8278 53.6191C78.462 53.6191 75.2792 52.798 72.3688 51.174C71.7349 50.8222 70.9537 50.8898 70.3868 51.3455C65.7086 55.1393 59.901 57.228 54.0399 57.228C48.1788 57.228 42.7998 55.3604 38.2287 51.8282C37.9877 51.6432 37.7109 51.5485 37.4252 51.5034C37.3717 51.4943 37.327 51.4808 37.2734 51.4763C37.2288 51.4763 37.1886 51.4537 37.1485 51.4537C36.8895 51.4537 36.6306 51.5124 36.3896 51.6252C33.5952 52.9469 30.6624 53.6191 27.6716 53.6191C16.8466 53.6191 8.03479 44.6194 8.03479 33.5582H8.02586ZM27.6626 57.228C28.1224 57.228 28.5777 57.1874 29.0331 57.1603C29.2384 57.1468 29.4482 57.1468 29.6535 57.1287C30.3499 57.0701 31.0463 56.9708 31.7337 56.849C31.8587 56.8265 31.9837 56.8174 32.1087 56.7904C32.7827 56.6596 33.4479 56.4881 34.113 56.2987C34.2558 56.2581 34.4031 56.231 34.5505 56.1859C35.345 55.9423 36.1351 55.6626 36.9119 55.3333C41.9293 58.9377 47.8261 60.8368 54.031 60.8368C60.2358 60.8368 66.5389 58.7302 71.6813 54.8867C72.4446 55.2611 73.2214 55.5859 74.0115 55.8746C74.2659 55.9648 74.5293 56.028 74.7882 56.1137C75.3283 56.2851 75.8685 56.4611 76.4175 56.5919C76.7389 56.6686 77.0693 56.7182 77.3951 56.7814C77.8906 56.8761 78.3906 56.9753 78.895 57.0385C79.2521 57.0836 79.6182 57.1016 79.9797 57.1287C80.3279 57.1558 80.6716 57.2054 81.0243 57.2189V71.5913H26.9752V57.228C27.1046 57.228 27.2296 57.2144 27.3591 57.2144C27.4618 57.2144 27.56 57.2325 27.6671 57.2325L27.6626 57.228ZM22.9443 77.0002C22.9443 75.9716 23.6987 75.1957 24.6941 75.1957H83.3054C84.3276 75.1957 85.1266 75.9897 85.1266 77.0002C85.1266 78.0106 84.3231 78.8046 83.3054 78.8046H24.6941C23.6987 78.8046 22.9443 78.0287 22.9443 77.0002ZM37.2913 120.573C37.2645 120.546 37.2422 120.528 37.2154 120.501C31.5239 115.597 27.8948 108.276 27.8948 100.093V82.4135H80.1806V100.093C80.1806 108.176 76.6318 115.417 71.0564 120.316C70.8823 120.429 70.735 120.559 70.61 120.722C66.0969 124.511 60.3251 126.789 54.0399 126.789C47.7547 126.789 41.8356 124.448 37.2958 120.568L37.2913 120.573Z" fill="white" />
                            <path d="M80.971 129.537C79.9845 129.537 79.1854 130.344 79.1854 131.341V187.847C79.1854 188.844 79.9845 189.652 80.971 189.652C81.9575 189.652 82.7566 188.844 82.7566 187.847V131.341C82.7566 130.344 81.9575 129.537 80.971 129.537Z" fill="white" />
                            <path d="M72.3289 112.412C75.6679 110.008 77.4267 106.128 76.7972 102.533C76.2794 99.5557 74.2126 97.3453 71.1281 96.4791C70.454 96.2942 69.7175 96.5197 69.2666 97.0746C68.8202 97.6295 68.7354 98.3964 69.0568 99.0324C69.8559 100.62 69.8335 102.086 68.9988 102.772C68.2042 103.422 66.5213 103.381 64.5706 101.802C61.2985 99.0866 57.5042 98.3873 54.0268 99.8399C50.4646 98.3648 46.7372 99.0505 43.4295 101.798C41.818 103.124 40.2601 103.629 39.4655 103.088C38.7602 102.614 38.3629 101.08 39.0548 98.7302C39.2423 98.1031 39.0727 97.422 38.6174 96.9483C38.162 96.4791 37.488 96.3032 36.863 96.4746C33.7785 97.3453 31.7117 99.5467 31.1939 102.524C30.5689 106.115 32.3188 109.99 35.6533 112.399C36.9702 113.351 39.653 114.817 43.6527 114.817C46.4649 114.817 49.9289 114.091 54.0223 111.952C63.901 117.122 70.079 114.023 72.3199 112.412H72.3289ZM53.1742 108.33C47.0765 111.736 41.4564 112.146 37.738 109.467C35.5507 107.888 34.3365 105.352 34.7204 103.156C34.8052 102.673 34.9614 102.235 35.1846 101.847C35.3766 103.692 36.1622 105.199 37.488 106.092C39.6842 107.572 42.751 107.017 45.6971 104.59C48.1701 102.533 50.7012 102.145 53.2322 103.435C53.7411 103.697 54.3437 103.692 54.8571 103.426C57.9149 101.82 60.6022 103.174 62.3208 104.604C65.4098 107.103 68.914 107.486 71.2531 105.569C72.2307 104.766 72.8511 103.679 73.0922 102.443C73.177 102.668 73.2395 102.907 73.2797 103.156C73.6636 105.357 72.4449 107.897 70.2531 109.476C66.5526 112.133 60.9593 111.722 54.8973 108.33C54.3616 108.028 53.7054 108.032 53.1697 108.33H53.1742Z" fill="white" />
                            <path d="M44.2776 166.843C41.7332 166.843 39.6664 168.95 39.6664 171.535C39.6664 174.12 41.7376 176.154 44.2776 176.154C46.8176 176.154 48.8933 174.084 48.8933 171.535C48.8933 168.986 46.822 166.843 44.2776 166.843ZM44.2776 172.545C43.6928 172.545 43.2331 172.103 43.2331 171.535C43.2331 170.967 43.7107 170.452 44.2776 170.452C44.8445 170.452 45.3222 170.949 45.3222 171.535C45.3222 172.121 44.8624 172.545 44.2776 172.545Z" fill="white" />
                            <path d="M44.2776 182.65C41.7332 182.65 39.6664 184.757 39.6664 187.342C39.6664 189.927 41.7376 192.029 44.2776 192.029C46.8176 192.029 48.8933 189.927 48.8933 187.342C48.8933 184.757 46.822 182.65 44.2776 182.65ZM44.2776 188.425C43.7107 188.425 43.2331 187.928 43.2331 187.342C43.2331 186.755 43.7107 186.259 44.2776 186.259C44.8445 186.259 45.3222 186.755 45.3222 187.342C45.3222 187.928 44.8445 188.425 44.2776 188.425Z" fill="white" />
                            <path d="M63.7224 150.969C61.178 150.969 59.1112 153.071 59.1112 155.66C59.1112 158.25 61.1825 160.352 63.7224 160.352C66.2624 160.352 68.3381 158.245 68.3381 155.66C68.3381 153.076 66.2669 150.969 63.7224 150.969ZM63.7224 156.743C63.1555 156.743 62.6779 156.247 62.6779 155.66C62.6779 155.074 63.1555 154.578 63.7224 154.578C64.2894 154.578 64.767 155.074 64.767 155.66C64.767 156.247 64.2894 156.743 63.7224 156.743Z" fill="white" />
                            <path d="M63.7224 135.094C61.178 135.094 59.1112 137.201 59.1112 139.781C59.1112 142.362 61.1825 144.473 63.7224 144.473C66.2624 144.473 68.3381 142.366 68.3381 139.781C68.3381 137.196 66.2669 135.094 63.7224 135.094ZM63.7224 140.868C63.1555 140.868 62.6779 140.372 62.6779 139.786C62.6779 139.199 63.1466 138.703 63.7224 138.703C64.2983 138.703 64.767 139.199 64.767 139.786C64.767 140.372 64.2894 140.868 63.7224 140.868Z" fill="white" />
                            <path d="M63.7224 166.843C61.178 166.843 59.1112 168.95 59.1112 171.535C59.1112 174.12 61.1825 176.154 63.7224 176.154C66.2624 176.154 68.3381 174.084 68.3381 171.535C68.3381 168.986 66.2669 166.843 63.7224 166.843ZM63.7224 172.545C63.1287 172.545 62.6779 172.112 62.6779 171.535C62.6779 170.958 63.1555 170.452 63.7224 170.452C64.2894 170.452 64.767 170.949 64.767 171.535C64.767 172.121 64.3072 172.545 63.7224 172.545Z" fill="white" />
                            <path d="M63.7224 182.65C61.178 182.65 59.1112 184.757 59.1112 187.342C59.1112 189.927 61.1825 192.029 63.7224 192.029C66.2624 192.029 68.3381 189.927 68.3381 187.342C68.3381 184.757 66.2669 182.65 63.7224 182.65ZM63.7224 188.425C63.1466 188.425 62.6779 187.937 62.6779 187.342C62.6779 186.746 63.1555 186.259 63.7224 186.259C64.2894 186.259 64.767 186.755 64.767 187.342C64.767 187.928 64.2894 188.425 63.7224 188.425Z" fill="white" />
                            <path d="M44.2776 150.969C41.7332 150.969 39.6664 153.071 39.6664 155.66C39.6664 158.25 41.7376 160.352 44.2776 160.352C46.8176 160.352 48.8933 158.245 48.8933 155.66C48.8933 153.076 46.822 150.969 44.2776 150.969ZM44.2776 156.743C43.7107 156.743 43.2331 156.247 43.2331 155.66C43.2331 155.074 43.7107 154.578 44.2776 154.578C44.8445 154.578 45.3222 155.074 45.3222 155.66C45.3222 156.247 44.8445 156.743 44.2776 156.743Z" fill="white" />
                            <path d="M44.2776 135.094C41.7332 135.094 39.6664 137.201 39.6664 139.781C39.6664 142.362 41.7376 144.473 44.2776 144.473C46.8176 144.473 48.8933 142.366 48.8933 139.781C48.8933 137.196 46.822 135.094 44.2776 135.094ZM44.2776 140.868C43.7107 140.868 43.2331 140.372 43.2331 139.786C43.2331 139.199 43.7107 138.703 44.2776 138.703C44.8445 138.703 45.3222 139.199 45.3222 139.786C45.3222 140.372 44.8445 140.868 44.2776 140.868Z" fill="white" />
                        </g>
                        <defs>
                            <clipPath id="clip0_161_101">
                                <rect width="108" height="203" fill="white" />
                            </clipPath>
                        </defs>
                    </svg>

                    {!isMobile&&<div className={`content-nickname ${isMobile&&'mobil'}`}>
                        <textarea
                className={`nickname ${isMobile && 'mobil'} noresize`}
                name="name"
                maxlength="35"
                value={informatiiProfil.name}
                onChange={handleInputChange}
              />
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>
                    </div>}
                    {isMobile&&<div className={`content-nickname ${isMobile&&'mobil'}`}>
                        <p className={`nickname ${isMobile&&'mobil'}`}>First name:</p>
                        
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>
                    </div>}
                    {isMobile&&<div className={`content-nickname ${isMobile&&'mobil'}`}>
                        <p className={`nickname ${isMobile&&'mobil'}`}>Last name:</p>
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>
                    </div>}
                </div>
                <div className={`informatiiBucatar flex ${isMobile&&'mobil'}`}>
                    <div className={`content-nickname informatii ${isMobile&&'mobil'}`}>
                        <div className='flex flex-row'>
                        <p className={`nickname ${isMobile&&'mobil'}`}>Email:</p>
                        <textarea
                className={`nickname ${isMobile && 'mobil'} p1 noresize`}
                name="email"
                maxlength="35"
                value={informatiiProfil.email}
                onChange={handleInputChange}
              /></div>
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>
                    </div>
                    <div className={`content-nickname informatii ${isMobile&&'mobil'}`}>
                        <div className='flex flex-row'>
                        <p className={`nickname ${isMobile&&'mobil'}`}>Telephone: </p>
                        <textarea
                className={`nickname ${isMobile && 'mobil'} noresize p1`}
                name="telefon"
                maxlength="10"
                value={informatiiProfil.telefon}
                onChange={handleInputChange}
              />
                        </div>
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>


                    </div>
                    <div className={`content-nickname informatii ${isMobile&&'mobil'}`}>
                        <div className='flex flex-row'>
                        <p className={`nickname ${isMobile&&'mobil'}`}>College group:</p>
                        <textarea
                className={`nickname ${isMobile && 'mobil'} noresize w-60 p1`}
                name="college"
                maxlength="30"
                value={informatiiProfil.college}
                onChange={handleInputChange}
              />
                        </div>
                        <svg width="100%" height="1" viewBox="0 0 412 1" fill="none" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none">
                            <line y1="0.5" x2="412" y2="0.5" stroke="white" />
                        </svg>
                    </div>
                </div>
            </div>
            <Link to="/add-recipe" className={`add-recipe-button ${isMobile&&'mobil'}`}>
            Add a recipe
            </Link>
            {isMobile&&<Footer isMobile={isMobile}/>}
        </div>
        </div>
    )
}
export default Profile
